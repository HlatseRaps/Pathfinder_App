 const chapters = [
      {
        title: "1) What Is Hospitality? The Experience Economy",
        kicker: "From beds and meals to memories and meaning.",
        blocks: [
          {
            h: "Beyond products: creating experiences",
            p: `Hospitality isn’t just a room, a plate, or a ticket; it’s the feeling a guest takes home. 
            In today’s experience economy, guests choose places that consistently deliver care, clarity, and comfort. 
            Whether you work in a rural lodge, a city hotel, a café, or a tour outfit, your role is to convert 
            ordinary moments—check-in, breakfast, directions—into positive memories.`
          },
          {
            h: "The service promise",
            ul: [
              "Welcome: acknowledge quickly with eye contact, smile, and greeting.",
              "Care: seek to understand real needs (sleep quality, safety, privacy, celebration).",
              "Consistency: same standard in quiet and peak times.",
              "Closure: end each interaction with a clear next step or confirmation."
            ]
          },
          {
            h: "Guest journey snapshot",
            p: `Pre-arrival → Arrival → Stay → Problem/Recovery → Departure → Post-stay. 
            Each stage has handoffs across teams; your notes and follow-through prevent drops.`
          }
        ],
        takeaway: [
          "You are not selling a room—you are delivering rest, safety, and welcome.",
          "Memories form at small moments; treat them as design opportunities.",
          "Every stage of the journey needs ownership and clear handovers."
        ]
      },
      {
        title: "2) Service Mindset & Professional Standards",
        kicker: "Attitude you can see: punctuality, pride, and presence.",
        blocks: [
          {
            h: "The 3P standard",
            ul: [
              "Punctuality: arrive ready 10 minutes early; peak periods demand full teams.",
              "Pride: uniform clean, name badge visible, tools checked (pen, pad, float, key card).",
              "Presence: phones away; eyes up; notice guests before they wave."
            ]
          },
          {
            h: "Professional etiquette",
            ul: [
              "Use names when possible; confirm pronunciation respectfully.",
              "Stand tall, open posture; keep hands visible at reception and tables.",
              "Language: polite, simple, specific. Avoid internal jargon in front of guests."
            ]
          },
          {
            h: "Ownership in action",
            p: `Never leave a guest at a dead end. If you must hand over, introduce the colleague by name, 
            summarize the request in front of the guest, and stay available until it’s clearly owned.`
          }
        ],
        takeaway: [
          "Standards are visible: they show before you speak.",
          "Etiquette + clarity builds trust fast.",
          "Ownership means “I will see this through,” not “I told someone.”"
        ]
      },
      {
        title: "3) Guest Journey: Pre-Arrival to Post-Stay",
        kicker: "Design each step so nothing feels accidental.",
        blocks: [
          {
            h: "Pre-arrival",
            ul: [
              "Confirm bookings (dates, room type, arrival time, special notes).",
              "Offer transport tips, local weather, packing hints.",
              "Set expectations: check-in/out times, deposit/ID needs, house rules highlights."
            ]
          },
          {
            h: "Arrival & check-in",
            ul: [
              "Greet within 10 seconds; offer seating or water if a queue forms.",
              "Verify ID discreetly; confirm key preferences (quiet room, extra pillows).",
              "Orient quickly: breakfast times, Wi-Fi, safety info, contact method (WhatsApp/extension)."
            ]
          },
          {
            h: "During the stay",
            p: `Proactively check on first-night comfort. Capture requests in the system; 
            update handover notes to avoid repeating questions across shifts.`
          },
          {
            h: "Departure & post-stay",
            ul: [
              "Check satisfaction before payment; resolve issues now if possible.",
              "Offer simple transport options and a short farewell script.",
              "Follow up: thank-you message and feedback link within 24–48 hours."
            ]
          }
        ],
        takeaway: [
          "Clarity lowers friction; guests relax when they know what to expect.",
          "A 30-second orientation prevents dozens of calls later.",
          "Follow-up is marketing disguised as courtesy."
        ]
      },
      {
        title: "4) Front Office & Reservations Basics",
        kicker: "First contact, lasting impression.",
        blocks: [
          {
            h: "Core tasks",
            ul: [
              "Handle calls, email, and chat with CPR structure (Context → Point → Request).",
              "Create/modify bookings; record notes guests value (quiet, proximity, allergies).",
              "Check-in/out efficiently; handle billing, deposits, and receipts accurately."
            ]
          },
          {
            h: "PMS hygiene",
            p: `Always document actions (room moves, late arrivals, maintenance tickets) in the Property 
            Management System. Clear notes = smooth handovers = fewer errors.`
          },
          {
            h: "Queue management",
            ul: [
              "Give realistic wait times; offer seats or water.",
              "Triage: quick questions first; complex cases to side desk if possible.",
              "Circulate with updates during surges to lower stress."
            ]
          }
        ],
        takeaway: [
          "Notes are your team memory—write as if night shift depends on it.",
          "Small hospitality at reception (water, chairs) calms the room.",
          "Accuracy at check-in prevents billing disputes at check-out."
        ]
      },
      {
        title: "5) Housekeeping Quality & Room Standards",
        kicker: "Clean isn’t enough—rooms must feel prepared.",
        blocks: [
          {
            h: "Room readiness checklist",
            ul: [
              "Air the room; neutral fresh scent; windows/curtains adjusted.",
              "Bed: tight corners, smooth linen, extra pillow if requested.",
              "Bathroom: dry surfaces, sealed amenities, fresh towels folded consistently.",
              "Minibar/compliments: stocked as per standard; water bottles dated.",
              "Final scan: lights, AC, remote working; welcome note if policy allows."
            ]
          },
          {
            h: "Hygiene & safety",
            ul: [
              "Colour-coded cloths; never mix bathroom and bedroom cloths.",
              "Label chemicals; follow dilution; wear appropriate PPE.",
              "Report hazards immediately (wet floors, broken tiles, exposed wiring)."
            ]
          },
          {
            h: "Guest privacy & lost-and-found",
            p: `Knock and announce before entry; use doorstops. Log any items found with time, 
            location, description; store securely as per policy.`
          }
        ],
        takeaway: [
          "Consistency builds trust: identical setup each time.",
          "Hygiene discipline protects guests and staff.",
          "Privacy is non-negotiable; document everything."
        ]
      },
      {
        title: "6) Food & Beverage Fundamentals",
        kicker: "Safe food, smooth service, satisfied guests.",
        blocks: [
          {
            h: "Service styles",
            ul: [
              "Casual/fast service: speed and accuracy; tray discipline.",
              "À la carte: pacing between courses; menu knowledge to guide choices.",
              "Buffet/banquet: replenishment, portion control, floor awareness."
            ]
          },
          {
            h: "Menu & allergens",
            p: `Know top allergens; be honest if unsure—check with the kitchen. 
            Suggest safe alternatives rather than guessing.`
          },
          {
            h: "Beverage basics",
            ul: [
              "Hot beverages: water temperature and brew times matter.",
              "Non-alcoholic pairings: juices, spritzers, herbal options.",
              "Responsible alcohol service: ID checks; refusal phrasing that respects dignity."
            ]
          },
          {
            h: "Service etiquette",
            ul: [
              "Serve from guest’s right (food) / left (some beverages) per local SOP.",
              "Clear quietly; confirm satisfaction early in the meal.",
              "Bill accuracy: itemize, confirm split bills, process payments neatly."
            ]
          }
        ],
        takeaway: [
          "Product knowledge prevents mistakes and increases confidence.",
          "Allergen honesty > risky guesses.",
          "Pacing and attention turn meals into experiences."
        ]
      },
      {
        title: "7) Safety, Security & Hygiene",
        kicker: "Nothing else matters if people don’t feel safe.",
        blocks: [
          {
            h: "Personal & site safety",
            ul: [
              "Know evacuation routes, assembly points, and extinguisher locations.",
              "Report suspicious activity immediately via agreed channel.",
              "Control access: keys, storerooms, back-of-house doors closed."
            ]
          },
          {
            h: "Food safety refresh",
            ul: [
              "Time/temperature control: hot >60°C, cold <5°C where applicable.",
              "Cross-contamination: raw vs ready-to-eat separation.",
              "Handwashing protocol before shifts, after breaks, after handling waste."
            ]
          },
          {
            h: "Incident response",
            p: `For injuries or illness, notify supervisor, follow first-aid / emergency steps, and record incidents in the log. 
            For fire: raise alarm, assist guests, do not use lifts, follow the plan.`
          }
        ],
        takeaway: [
          "Safety knowledge must be muscle memory.",
          "Logs protect people and the business.",
          "Calm leadership in emergencies earns lifelong loyalty."
        ]
      },
      {
        title: "8) Communication Across Cultures & Channels",
        kicker: "Warmth + clarity for every guest, every time.",
        blocks: [
          {
            h: "Verbal & non-verbal alignment",
            ul: [
              "Speak a little slower; keep tone calm and friendly.",
              "Open posture, gentle smile; mirror guest’s comfort on eye contact.",
              "Confirm understanding with short summaries."
            ]
          },
          {
            h: "Digital & written touchpoints",
            p: `When messaging, keep it concise: greeting, one-paragraph core info, bullet options, clear next step with time. 
            Avoid slang and emojis in formal channels unless brand allows.`
          },
          {
            h: "Cultural sensitivity",
            ul: [
              "Avoid assumptions; ask about preferences (diet, prayer times, celebrations).",
              "Use names/titles respectfully; check pronunciations.",
              "Offer gender-sensitive options if relevant (e.g., female therapist)."
            ]
          }
        ],
        takeaway: [
          "Clarity + respect = fewer misunderstandings.",
          "Short confirmations prevent rework.",
          "Curiosity is your best cross-cultural tool."
        ]
      },
      {
        title: "9) Handling Complaints & Service Recovery",
        kicker: "Fix the problem, save the relationship.",
        blocks: [
          {
            h: "LEARN method in practice",
            ul: [
              "Listen fully (no interruption).",
              "Empathize and apologize: own the experience.",
              "Agree on a resolution option and timeline.",
              "Resolve quickly; keep the guest informed.",
              "Next step: follow up to confirm satisfaction."
            ]
          },
          {
            h: "Language that works",
            p: `Use “can/will” phrasing: “I can move you to a quieter room and will send housekeeping now.” 
            Avoid “policy says”—explain the why briefly and pivot to what you can do.`
          },
          {
            h: "Compensation & escalation",
            ul: [
              "Match recovery to impact (e.g., room move, late checkout, complimentary item).",
              "If limits reached, introduce a manager; summarize the case in front of the guest.",
              "Document everything in the PMS/CRM for transparency."
            ]
          }
        ],
        takeaway: [
          "A fast, sincere recovery often creates stronger loyalty than a problem-free stay.",
          "Offer choices and confirm the guest’s preference.",
          "Close the loop—don’t let issues fade without follow-up."
        ]
      },
      {
        title: "10) Career Pathways & Daily Practice",
        kicker: "Grow from foundations to professional mastery.",
        blocks: [
          {
            h: "Entry roles you can target",
            ul: [
              "Front Desk Agent, Concierge Assistant, Reservations Clerk",
              "Room Attendant, Public Area Cleaner, Laundry Attendant",
              "Waiter/Waitress, Barista, Host/Hostess, Runner",
              "Commis Chef, Kitchen Steward, Store Assistant",
              "Guide Assistant, Activities Host, Event Support"
            ]
          },
          {
            h: "5-minute daily drills",
            ul: [
              "Practice a perfect greeting + orientation speech.",
              "Write 1 clear message using CPR (Context → Point → Request).",
              "Do a room/section readiness checklist without prompts.",
              "Role-play one complaint with a colleague (switch roles).",
              "Leave a sharp handover note others can rely on."
            ]
          },
          {
            h: "Measuring growth",
            p: `Track small wins: guest mentions in reviews, fewer reworks, quicker handovers, and peer feedback. 
            Ask supervisors for one improvement focus per week and report back.`
          }
        ],
        takeaway: [
          "Consistency beats intensity—small reps daily.",
          "Document, hand over, and follow up like a pro.",
          "Hospitality basics are the platform for every advanced role."
        ]
      }
    ];

    // ------------------------------
    // Rendering logic (same as your pattern)
    // ------------------------------
    const chapterListEl   = document.getElementById("chapterList");
    const chapterTitleEl  = document.getElementById("chapterTitle");
    const chapterKickerEl = document.getElementById("chapterKicker");
    const chapterContentEl= document.getElementById("chapterContent");
    const chapterCountEl  = document.getElementById("chapterCount");
    const progressBarEl   = document.getElementById("progressBar");
    const progressTextEl  = document.getElementById("progressText");

    const btnPrev  = document.getElementById("btnPrev");
    const btnNext  = document.getElementById("btnNext");
    const btnSave  = document.getElementById("btnSave");
    const btnReset = document.getElementById("btnReset");

    const STORAGE_KEY = "pf_hospitality_basics_progress";
    let current = parseInt(localStorage.getItem(STORAGE_KEY) || "0", 10);
    if (Number.isNaN(current) || current < 0 || current > chapters.length - 1) current = 0;

    function renderChapterList(){
      chapterListEl.innerHTML = "";
      chapters.forEach((ch, idx) => {
        const li = document.createElement("li");
        const btn = document.createElement("button");
        btn.className = "chapter_btn" + (idx === current ? " active" : "");
        btn.innerHTML = `<i class="far fa-file-alt"></i> ${ch.title}`;
        btn.addEventListener("click", () => {
          current = idx;
          renderAll();
        });
        li.appendChild(btn);
        chapterListEl.appendChild(li);
      });
    }

    function renderChapter(){
      const ch = chapters[current];
      chapterTitleEl.textContent  = ch.title;
      chapterKickerEl.textContent = ch.kicker;
      chapterContentEl.innerHTML  = "";

      ch.blocks.forEach(block => {
        const div = document.createElement("div");
        div.className = "panel";
        const h4 = document.createElement("h4");
        h4.textContent = block.h;
        div.appendChild(h4);

        if (block.p){
          const p = document.createElement("p");
          p.textContent = block.p;
          div.appendChild(p);
        }
        if (block.ul){
          const ul = document.createElement("ul");
          block.ul.forEach(item=>{
            const li = document.createElement("li");
            li.textContent = item;
            ul.appendChild(li);
          });
          div.appendChild(ul);
        }
        chapterContentEl.appendChild(div);
      });

      if (ch.takeaway){
        const t = document.createElement("div");
        t.className = "panel";
        const h4 = document.createElement("h4");
        h4.textContent = "Key Takeaways";
        t.appendChild(h4);
        const ul = document.createElement("ul");
        ch.takeaway.forEach(x=>{
          const li = document.createElement("li");
          li.textContent = x;
          ul.appendChild(li);
        });
        t.appendChild(ul);
        chapterContentEl.appendChild(t);
      }

      chapterCountEl.textContent = `Chapter ${current+1} of ${chapters.length}`;
      btnPrev.disabled = current === 0;
      btnNext.disabled = current === chapters.length - 1;
    }

    function renderProgress(){
      const pct = Math.round(((current+1) / chapters.length) * 100);
      progressBarEl.style.width = pct + "%";
      progressTextEl.textContent = `${pct}% complete`;
    }

    function renderAll(){
      renderChapterList();
      renderChapter();
      renderProgress();
    }

    // Nav handlers
    btnPrev.addEventListener("click", ()=>{
      if (current > 0){ current--; renderAll(); }
    });
    btnNext.addEventListener("click", ()=>{
      if (current < chapters.length - 1){ current++; renderAll(); }
    });
    btnSave.addEventListener("click", ()=>{
      localStorage.setItem(STORAGE_KEY, String(current));
      alert("Progress saved!");
    });
    btnReset.addEventListener("click", ()=>{
      if (confirm("Reset your course progress?")){
        current = 0;
        localStorage.removeItem(STORAGE_KEY);
        renderAll();
      }
    });

    // First render
    renderAll();